# ESP32统一工具使用指南

## 🚀 快速开始

### 启动程序
```bash
python esp32_unified_tool.py
```
或双击运行：
```
run_unified_tool.bat
```

## 📋 功能概览

### 1. 自动模式 🤖
- ✅ 检测到ESP32设备时自动执行操作
- ✅ 可选择自动刷固件
- ✅ 可选择自动读取MAC地址
- ✅ 支持多种ESP32芯片类型

### 2. 手动操作 🎯
- 🔧 手动刷固件按钮
- 📖 手动读取MAC按钮
- 🎛️ 完全控制操作流程

### 3. 配置管理 ⚙️
- 📁 支持8个固件文件
- 🏷️ 自定义烧写地址
- 💾 自动保存配置

## 📖 详细使用步骤

### Step 1: 模式选择
1. **自动模式**：勾选"自动模式"，连接ESP32时自动执行
2. **手动模式**：取消勾选，使用手动按钮控制

### Step 2: 固件配置（如需刷固件）
1. 勾选要使用的固件序号
2. 设置烧写地址（如 0x0, 0x8000, 0xe000, 0x10000）
3. 点击"浏览"选择固件文件

### Step 3: 串口设置
1. 点击"刷新串口"
2. 选择要操作的串口
3. 可使用"全选"/"全不选"

### Step 4: 执行操作
- **自动模式**：连接ESP32设备即可
- **手动模式**：点击相应的操作按钮

## 📊 界面说明

```
┌─────────────────────────────────────────┐
│ 模式设置                                │
│ ☑ 自动模式                             │
│   ☑ 自动刷固件                         │
│   ☑ 自动读取MAC地址                    │
├─────────────────────────────────────────┤
│ 固件配置                                │
│ ☐ 固件1  地址:0x0     [路径] [浏览]     │
│ ☐ 固件2  地址:0x8000  [路径] [浏览]     │
│ ...                                     │
├─────────────────────────────────────────┤
│ 串口配置                                │
│ [刷新串口] [全选] [全不选]              │
│ ☑ COM3 - USB Serial Port               │
├─────────────────────────────────────────┤
│ 手动操作                                │
│ [手动刷固件] [手动读取MAC]              │
├─────────────────────────────────────────┤
│ MAC地址记录                             │
│ 时间       端口  芯片    MAC地址         │
│ [清除记录] [导出记录]                   │
├─────────────────────────────────────────┤
│ 操作日志                                │
│ [清除日志]                              │
│ 日志内容...                             │
└─────────────────────────────────────────┘
```

## 🎯 常见使用场景

### 场景1：批量刷固件
1. 配置固件文件和地址
2. 选择自动模式 + 自动刷固件
3. 依次连接ESP32设备

### 场景2：批量读取MAC
1. 选择自动模式 + 自动读取MAC
2. 依次连接ESP32设备
3. 查看MAC地址记录

### 场景3：单个设备操作
1. 取消自动模式
2. 连接设备
3. 手动点击操作按钮

## 📝 输出文件

### MAC地址记录文件
- 文件名：`ESP32_MAC_Addresses_YYYYMMDD_HHMMSS.txt`
- 格式：时间 + Tab + 端口 + Tab + 芯片类型 + Tab + MAC地址

### 配置文件
- 文件名：`unified_config.json`
- 自动保存所有设置

## ⚠️ 注意事项

1. **驱动程序**：确保ESP32驱动已正确安装
2. **串口占用**：确保串口未被其他程序占用
3. **固件文件**：确保固件文件路径正确且文件存在
4. **烧写地址**：根据固件类型设置正确的烧写地址

## 🔧 常见问题解决

### Q1: 检测不到串口
- 检查ESP32连接
- 安装CH340/CP2102驱动
- 点击"刷新串口"

### Q2: 刷固件失败
- 检查固件文件路径
- 确认烧写地址正确
- 检查串口是否被占用

### Q3: MAC地址读取失败
- 确保设备正常连接
- 检查esptool是否安装
- 尝试手动操作

## 💡 使用技巧

1. **快速配置**：使用"全选"/"全不选"快速设置串口
2. **日志查看**：查看详细日志了解操作进度
3. **记录导出**：定期导出MAC地址记录做备份
4. **配置保存**：程序会自动保存配置，下次启动自动恢复

## 🎉 完成！

现在您可以高效地使用ESP32统一工具进行批量刷固件和MAC地址读取操作了！ 